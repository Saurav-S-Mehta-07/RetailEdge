<% layout("layouts/boilerplateCode") %>

<div class="dashboard-app-container">
  <%- include("../includes/leftNav.ejs") %>

  <main class="dashboard-content" tabindex="0">
    <header class="dashboard-header">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 9h14v2H5zm0 4h14v2H5z"/></svg>
      Dashboard Overview
    </header>

    <section class="dashboard-stats-cards" aria-label="Summary statistics">
      <article class="dashboard-card">
        <span class="dashboard-icon" aria-hidden="true">â‚¹</span>
        <div>Total Sales Amount</div>
        <div class="dashboard-number" aria-live="polite" aria-atomic="true"><%= stats.totalSalesAmount.toLocaleString() %></div>
      </article>
      <article class="dashboard-card">
        <span class="dashboard-icon" aria-hidden="true">ðŸ›’</span>
        <div>Total Sales Transactions</div>
        <div class="dashboard-number"><%= stats.totalTransactions %></div>
      </article>
      <article class="dashboard-card">
        <span class="dashboard-icon" aria-hidden="true">ðŸ“¦</span>
        <div>Total Items in Stock</div>
        <div class="dashboard-number"><%= stats.totalStock %></div>
      </article>
      <article class="dashboard-card">
        <span class="dashboard-icon" aria-hidden="true">ðŸ‘¥</span>
        <div>Unique Customers</div>
        <div class="dashboard-number"><%= stats.uniqueCustomers %></div>
      </article>
    </section>

    <section class="dashboard-charts" aria-label="Charts">
      <article class="dashboard-chart" aria-label="Sales Trend last 7 days">
        <h3>Sales Trend (Last 7 Days)</h3>
        <canvas id="dashboard-salesTrend"></canvas>
      </article>
      <article class="dashboard-chart" aria-label="Top 5 Selling Items">
        <h3>Top 5 Selling Items</h3>
        <canvas id="dashboard-topSellingItems"></canvas>
      </article>
    </section>

    <section class="dashboard-month-cards-container" aria-label="Monthly performance summary">
      <h3>Month-wise Performance</h3>
      <div class="dashboard-month-cards" id="dashboard-monthCards"></div>
    </section>

  </main>

  <script>
    const stats = <%- JSON.stringify(stats) %>;
    const salesTrend = <%- JSON.stringify(salesTrend) %>;
    const topSelling = <%- JSON.stringify(topSelling) %>;
    const monthsData = <%- JSON.stringify(monthsData) %>;
  </script>

</div>

